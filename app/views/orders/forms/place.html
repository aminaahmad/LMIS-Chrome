<form class="form-horizontal" novalidate>
<fieldset>

  <div class="form-group">
    <label class="col-md-4 control-label" for="receivingFacilityName" i18n="receivingFacilityName"></label>
    <div class="col-md-4">
      <select id="receivingFacilityName" name="receivingFacilityName"
        class="form-control" ng-model="order.receivingFacility">
        <option value="{{facility.uuid}}" ng-bind="facility.name"
          ng-repeat="facility in storage.facilities"></option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="childFacilityCode" i18n="childFacilityCode"></label>
    <div class="col-md-4">
      <input id="childFacilityCode" name="childFacilityCode" type="text" disabled
        ng-model="storage.facilities[order.receivingFacility].code"
        class="form-control input-md" required>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="parentFacilityName" i18n="parentFacilityName"></label>
    <div class="col-md-4">
      <select id="parentFacilityName" name="parentFacilityName"
        class="form-control" ng-model="order.parentFacility">
        <option value="{{facility.uuid}}" ng-bind="facility.name"
          ng-repeat="facility in storage.facilities"></option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="parentFacilityCode" i18n="parentFacilityCode"></label>
    <div class="col-md-4">
      <input id="parentFacilityCode" name="parentFacilityCode" disabled
        type="text" class="form-control input-md" required
        ng-model="storage.facilities[order.parentFacility].code">
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="userCode" i18n="userCode"></label>
    <div class="col-md-4">
      <input id="userCode" name="userCode" type="text" class="form-control input-md"
        required disabled ng-model="order.userCode">
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="orderNumber" i18n="orderNumber"></label>
    <div class="col-md-4">
      <input id="orderNumber" name="orderNumber" type="text" required disabled
        class="form-control input-md" ng-model="order.number">
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="orderDate" i18n="orderDate"></label>
    <div class="col-md-4">
      <input id="orderDate" name="orderDate" type="date" class="form-control input-md" required ng-model="order.date">
    </div>
  </div>

  <div class="products">
    <accordion close-others="true">
      <accordion-group ng-repeat="product in order.products" is-open="true">
        <accordion-heading>
          <span i18n="productID"></span>
          <i ng-click="removeProduct(product)"
            class="pull-right text-muted fa fa-times fa-2x"></i>
        </accordion-heading>
        <div ng-include="'views/orders/forms/partials/product.html'"></div>
      </accordion-group>
    </accordion>
    <button name="addProduct" class="btn btn-default" ng-click="addProduct()">
      <span><i class="fa fa-plus"></i></span>
      <span i18n="addProduct"></span>
    </button>
  </div>

  <div class="form-group">
    <div class="col-md-4 pull-right">
      <button id="authorize" name="authorize" class="btn btn-default"
        ng-disabled="authorized" i18n="authorize"
        ng-click="authorized=true"></button>
      <button id="submit" name="submit" class="btn btn-success"
        i18n="submit" ng-disabled="!authorized"></button>
    </div>
  </div>

</fieldset>
</form>
